<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>LLMs on AWS — Infrastructure, Models, and Selection Strategies</title>
  <meta name="description" content="A practical single‑page guide to building with Large Language Models (LLMs) on AWS: core infrastructure, model options and approaches, and how to choose the right model for your application." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <!-- Tailwind via CDN for convenience; replace with a pinned version or self‑host for production. -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root { color-scheme: light dark; }
    html { scroll-behavior: smooth; }
    body { font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji"; }
    .prose p { margin-top: .7rem; margin-bottom: .7rem; }
    .gradient-text { background: linear-gradient(90deg, #7c3aed, #06b6d4); -webkit-background-clip: text; background-clip: text; color: transparent; }
    .card { @apply rounded-2xl shadow ring-1 ring-zinc-900/5 dark:ring-white/10 bg-white dark:bg-zinc-900; }
    .chip { @apply inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-medium ring-1 ring-zinc-900/10 dark:ring-white/10 bg-zinc-50 dark:bg-zinc-800; }
    .kicker { @apply uppercase tracking-widest text-[0.7rem] font-semibold text-zinc-500 dark:text-zinc-400; }
    .toc a { @apply text-zinc-700 dark:text-zinc-200 hover:text-indigo-600 dark:hover:text-indigo-400; }
    /* Simple callout */
    .callout { @apply border-l-4 pl-4 py-3 my-4; border-color: #7c3aed20; background: linear-gradient(180deg, #7c3aed0d, transparent); }
    .grid-auto { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 1rem; }
    .table-wrap { overflow-x: auto; }
    /* Code block */
    pre { @apply rounded-xl p-4 bg-zinc-900 text-zinc-100 overflow-x-auto text-sm; }
    code { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }
  </style>
</head>
<body class="bg-zinc-50 text-zinc-900 dark:bg-zinc-950 dark:text-zinc-100">
  <!-- Header -->
  <header class="sticky top-0 z-30 backdrop-blur supports-[backdrop-filter]:bg-white/60 dark:supports-[backdrop-filter]:bg-zinc-950/60 border-b border-zinc-900/5 dark:border-white/10">
    <div class="max-w-6xl mx-auto px-4 md:px-6 py-4 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" class="text-indigo-600 dark:text-indigo-400">
          <path d="M4 7a8 8 0 0 1 16 0v10a3 3 0 0 1-3 3h-1" stroke="currentColor" stroke-width="1.5"/>
          <path d="M12 3v18M6 9h12M6 15h6" stroke="currentColor" stroke-width="1.5"/>
        </svg>
        <span class="font-extrabold tracking-tight text-lg">LLMs on AWS</span>
      </div>
      <nav class="hidden md:flex items-center gap-6 text-sm">
        <a href="#infrastructure" class="hover:text-indigo-600 dark:hover:text-indigo-400">Infrastructure</a>
        <a href="#approaches" class="hover:text-indigo-600 dark:hover:text-indigo-400">Approaches</a>
        <a href="#models" class="hover:text-indigo-600 dark:hover:text-indigo-400">Models</a>
        <a href="#selection" class="hover:text-indigo-600 dark:hover:text-indigo-400">Model Selection</a>
        <a href="#checklist" class="hover:text-indigo-600 dark:hover:text-indigo-400">Checklist</a>
      </nav>
      <button id="themeToggle" class="px-3 py-1.5 rounded-xl text-sm bg-zinc-100 dark:bg-zinc-800 ring-1 ring-zinc-900/10 dark:ring-white/10">Toggle theme</button>
    </div>
  </header>

  <!-- Hero -->
  <section class="relative">
    <div class="max-w-6xl mx-auto px-4 md:px-6 py-14 md:py-20">
      <p class="kicker">Practical Guide</p>
      <h1 class="text-4xl md:text-6xl font-extrabold tracking-tight leading-[1.05]">
        Building with <span class="gradient-text">Large Language Models</span> on AWS
      </h1>
      <p class="mt-4 text-lg text-zinc-600 dark:text-zinc-300 max-w-3xl">
        This single‑file guide explains the core AWS infrastructure for LLM workloads, surveys common approaches and model options, and gives you a pragmatic framework for choosing the right model for a specific application.
      </p>
      <div class="mt-6 flex flex-wrap gap-3">
        <span class="chip">Bedrock</span>
        <span class="chip">SageMaker</span>
        <span class="chip">EKS &amp; EC2</span>
        <span class="chip">RAG</span>
        <span class="chip">Guardrails</span>
        <span class="chip">Cost &amp; Observability</span>
      </div>
    </div>
  </section>

  <!-- Table of contents -->
  <section class="border-y border-zinc-900/5 dark:border-white/10 bg-white/50 dark:bg-zinc-900/30">
    <div class="max-w-6xl mx-auto px-4 md:px-6 py-8 toc grid-auto">
      <a href="#infrastructure">AWS Infrastructure for LLMs</a>
      <a href="#approaches">Approaches & Reference Architectures</a>
      <a href="#models">Model Landscape on AWS</a>
      <a href="#selection">Strategies for Model Selection</a>
      <a href="#security">Security, Compliance & Guardrails</a>
      <a href="#ops">Observability, Reliability & Cost</a>
      <a href="#checklist">LLM Delivery Checklist</a>
    </div>
  </section>

  <!-- Infrastructure -->
  <main id="content" class="max-w-6xl mx-auto px-4 md:px-6 py-12">
    <section id="infrastructure" class="prose prose-zinc max-w-none">
      <h2 class="text-3xl font-bold">AWS Infrastructure for LLM Workloads</h2>
      <p>
        There are three broad ways to run LLMs on AWS: (1) use a fully‑managed foundation‑model service, (2) host models yourself, or (3) mix both.
        Your choice depends on latency, compliance, customization, and cost constraints.
      </p>
      <div class="grid-auto">
        <div class="card p-6">
          <h3 class="font-semibold text-xl">Managed FM access (Amazon Bedrock)</h3>
          <p>Managed API access to multiple foundation models, unified auth and billing, serverless inference, tooling for guardrails, evaluation, and agents. Great for fast prototyping and production without managing GPUs.</p>
          <ul class="list-disc pl-6 text-sm">
            <li>Single API to invoke and evaluate different models.</li>
            <li>Built‑in features for safety (guardrails), prompt management, knowledge bases (RAG), and orchestration.</li>
            <li>Fine‑tuning options for supported models; data remains in your AWS account boundaries.</li>
          </ul>
        </div>
        <div class="card p-6">
          <h3 class="font-semibold text-xl">Self‑hosting (Amazon SageMaker / EKS / EC2)</h3>
          <p>Bring your own model or container. Full control over runtime, networking, and scaling.</p>
          <ul class="list-disc pl-6 text-sm">
            <li><strong>SageMaker</strong> for training, hosting, multi‑model endpoints, async & real‑time inference, Model Registry & Pipelines.</li>
            <li><strong>EKS</strong> for Kubernetes‑native serving stacks (e.g., vLLM, TensorRT‑LLM) with auto‑scaling and custom routing.</li>
            <li><strong>EC2</strong> for bespoke setups; choose GPU instances (e.g., *p4/p5/g* families) and optimize with inference accelerators.</li>
          </ul>
        </div>
        <div class="card p-6">
          <h3 class="font-semibold text-xl">Hybrid (best of both)</h3>
          <p>Use managed models for general tasks and self‑host for specialized or data‑sensitive workloads. Route traffic via an API gateway or service mesh and evaluate continuously.</p>
        </div>
      </div>

      <div class="callout">
        <p class="m-0 text-sm">
          <strong>Core supporting services:</strong> VPC, PrivateLink, IAM, CloudWatch/CloudTrail, KMS, Secrets Manager, S3/EFS for artifacts and vector stores, DynamoDB/OpenSearch for metadata and retrieval, API Gateway + Lambda or ECS for edge APIs, Step Functions for orchestration.
        </p>
      </div>

      <!-- Inline SVG reference architecture -->
      <figure class="card p-4">
        <figcaption class="text-sm text-zinc-500">High‑level reference architecture for a production RAG API on AWS</figcaption>
        <svg viewBox="0 0 920 430" class="w-full h-auto">
          <!-- Boxes -->
          <defs>
            <style>
              .box{fill:#ffffff22;stroke:#6b7280;stroke-width:1.2}
              .label{font: 12px Inter, sans-serif; fill:#374151}
            </style>
          </defs>
          <rect class="box" x="30" y="30" width="180" height="90" rx="10"/>
          <text class="label" x="40" y="55">Client</text>
          <text class="label" x="40" y="75">Web/Mobile/App</text>

          <rect class="box" x="250" y="30" width="200" height="90" rx="10"/>
          <text class="label" x="260" y="55">API Gateway + Lambda/ECS</text>
          <text class="label" x="260" y="75">AuthN/Z • Rate‑limit • Logging</text>

          <rect class="box" x="500" y="30" width="190" height="90" rx="10"/>
          <text class="label" x="510" y="55">Orchestrator</text>
          <text class="label" x="510" y="75">Step Functions / Agents</text>

          <rect class="box" x="730" y="30" width="160" height="90" rx="10"/>
          <text class="label" x="740" y="55">LLM Endpoint</text>
          <text class="label" x="740" y="75">Bedrock or SageMaker</text>

          <rect class="box" x="250" y="160" width="250" height="110" rx="10"/>
          <text class="label" x="260" y="185">Retrieval Tier</text>
          <text class="label" x="260" y="205">S3 + Vector DB (OpenSearch/</text>
          <text class="label" x="260" y="220">Aurora PG vector/3rd‑party)</text>

          <rect class="box" x="540" y="160" width="170" height="110" rx="10"/>
          <text class="label" x="550" y="185">Indexing & ETL</text>
          <text class="label" x="550" y="205">Glue/Lambda/EMR</text>

          <rect class="box" x="730" y="160" width="160" height="110" rx="10"/>
          <text class="label" x="740" y="185">Safety & Guardrails</text>
          <text class="label" x="740" y="205">PII/Policy/Moderation</text>

          <rect class="box" x="30" y="290" width="260" height="110" rx="10"/>
          <text class="label" x="40" y="315">Observability & Ops</text>
          <text class="label" x="40" y="335">CloudWatch, X‑Ray, Cost</text>

          <rect class="box" x="320" y="290" width="300" height="110" rx="10"/>
          <text class="label" x="330" y="315">Security & Networking</text>
          <text class="label" x="330" y="335">VPC, NACLs, SGs, KMS,</text>
          <text class="label" x="330" y="355">PrivateLink, IAM</text>

          <rect class="box" x="650" y="290" width="240" height="110" rx="10"/>
          <text class="label" x="660" y="315">CI/CD</text>
          <text class="label" x="660" y="335">CodePipeline • IaC (CDK/Terraform)</text>

          <!-- Arrows (simplified lines) -->
          <line x1="210" y1="75" x2="250" y2="75" stroke="#6b7280" />
          <line x1="450" y1="75" x2="500" y2="75" stroke="#6b7280" />
          <line x1="690" y1="75" x2="730" y2="75" stroke="#6b7280" />
          <line x1="350" y1="120" x2="350" y2="160" stroke="#6b7280" />
          <line x1="600" y1="120" x2="600" y2="160" stroke="#6b7280" />
        </svg>
      </figure>
    </section>

    <!-- Approaches -->
    <section id="approaches" class="prose prose-zinc max-w-none mt-16">
      <h2 class="text-3xl font-bold">Common Approaches & Reference Patterns</h2>
      <div class="grid-auto">
        <div class="card p-6">
          <h3 class="font-semibold">Zero‑/Few‑Shot Prompting</h3>
          <p>Fastest path to value—engineer prompts, constrain outputs with JSON schemas, and evaluate with automatic metrics + human review. Pair with Bedrock guardrails or custom moderation.</p>
        </div>
        <div class="card p-6">
          <h3 class="font-semibold">Retrieval‑Augmented Generation (RAG)</h3>
          <p>Ground responses in your data. Use a vector DB with embeddings, chunking strategies, and re‑ranking. Cache successful answers. Monitor context length & token costs.</p>
        </div>
        <div class="card p-6">
          <h3 class="font-semibold">Fine‑Tuning & Adapters</h3>
          <p>When outputs must match a domain style or task. Prefer parameter‑efficient methods (LoRA/QLoRA) to reduce cost. Keep a strong eval set; compare against a RAG baseline.</p>
        </div>
        <div class="card p-6">
          <h3 class="font-semibold">Agents & Tool Use</h3>
          <p>Have the model call functions/skills (Lambda, Step Functions) for deterministic operations or data fetches. Keep tools idempotent and observable; cap recursion to avoid runaway chains.</p>
        </div>
      </div>

      <h3 class="mt-8 font-semibold">Serving patterns</h3>
      <ul class="list-disc pl-6">
        <li><strong>Real‑time</strong> (streaming): Websocket/Server‑Sent Events for low‑latency UX; scale with provisioned concurrency or autoscaling policies.</li>
        <li><strong>Async/batch</strong>: Queue requests (SQS), process via Lambda/ECS, write results to S3; great for long‑running jobs and cost control.</li>
        <li><strong>Multi‑region</strong>: Put retrieval data close to users; replicate vector indexes; route via Route 53 or Global Accelerator.</li>
      </ul>
    </section>

    <!-- Models -->
    <section id="models" class="prose prose-zinc max-w-none mt-16">
      <h2 class="text-3xl font-bold">Model Landscape on AWS</h2>
      <p>
        On AWS you can access a range of proprietary and open models via <em>managed endpoints</em> or by <em>self‑hosting</em>.
        The options evolve frequently, so treat this as a map, not an exhaustive list.
      </p>
      <div class="grid-auto">
        <div class="card p-6">
          <h3 class="font-semibold">Via Managed Services</h3>
          <ul class="list-disc pl-6 text-sm">
            <li><strong>General LLMs</strong>: families such as Claude, Llama, and Amazon Titan for chat, reasoning, and coding.</li>
            <li><strong>Specialized</strong>: text embedding models, re‑rankers, code assistants, and image generation (e.g., SDXL‑class).</li>
            <li><strong>Pros</strong>: simple ops, consistent auth/billing, safety tooling, rapid iteration.</li>
            <li><strong>Cons</strong>: limited low‑level control, model list is curated, egress/latency considerations.</li>
          </ul>
        </div>
        <div class="card p-6">
          <h3 class="font-semibold">Self‑Hosted (SageMaker/EKS)</h3>
          <ul class="list-disc pl-6 text-sm">
            <li><strong>Open models</strong>: Llama‑family, Mistral, Mixtral, Phi, Qwen, etc., quantized with vLLM/TensorRT‑LLM.</li>
            <li><strong>Pros</strong>: full control over latency, tokenization, scheduling, and custom kernels.</li>
            <li><strong>Cons</strong>: you manage scaling, upgrades, GPU scheduling, and incident response.</li>
          </ul>
        </div>
      </div>

      <div class="table-wrap mt-6">
        <table class="w-full text-sm">
          <thead>
            <tr class="text-left">
              <th class="p-3">Task</th>
              <th class="p-3">Model Examples</th>
              <th class="p-3">Notes</th>
            </tr>
          </thead>
          <tbody class="divide-y divide-zinc-900/10 dark:divide-white/10">
            <tr>
              <td class="p-3 font-medium">General Chat/Reasoning</td>
              <td class="p-3">Claude / Llama / Titan‑class</td>
              <td class="p-3">Prioritize safety, long context, and tool‑use quality.</td>
            </tr>
            <tr>
              <td class="p-3 font-medium">Code Generation</td>
              <td class="p-3">Code‑tuned LLMs (e.g., Claude‑coder, Llama‑Coder)</td>
              <td class="p-3">Guard for secrets; enable repo‑aware RAG.</td>
            </tr>
            <tr>
              <td class="p-3 font-medium">Embeddings</td>
              <td class="p-3">Titan Embeddings / Cohere Embed / open‑source</td>
              <td class="p-3">Balance dimensionality vs. latency/cost.</td>
            </tr>
            <tr>
              <td class="p-3 font-medium">Re‑ranking</td>
              <td class="p-3">Cross‑encoder rerankers</td>
              <td class="p-3">Boost retrieval precision for RAG.</td>
            </tr>
            <tr>
              <td class="p-3 font-medium">Vision / Multimodal</td>
              <td class="p-3">MM LLMs or SDXL‑class diffusion</td>
              <td class="p-3">Check input size limits and pricing tiers.</td>
            </tr>
          </tbody>
        </table>
      </div>
      <p class="text-xs text-zinc-500">Model availability varies by region and over time. Verify in your target AWS Region before committing.</p>
    </section>

    <!-- Selection strategies -->
    <section id="selection" class="prose prose-zinc max-w-none mt-16">
      <h2 class="text-3xl font-bold">Strategies for Model Selection</h2>
      <p>
        Picking a model is a product and systems decision. Use a <em>requirements‑first</em> approach; then iterate with evaluations.
      </p>
      <ol class="list-decimal pl-6">
        <li><strong>Define constraints</strong>: target latency, throughput, budget, compliance, data residency, languages, and safety posture.</li>
        <li><strong>Specify tasks</strong>: classify, extract, summarize, generate, multi‑turn chat, tool‑calling, code, vision, or multi‑modal.</li>
        <li><strong>Start with baselines</strong>: a strong managed model (for speed) and a cost‑efficient open model (for control).</li>
        <li><strong>Evaluate</strong>: create a golden dataset; measure quality, latency, cost, and safety. Track regressions with CI.</li>
        <li><strong>Pilot & guardrail</strong>: rollout behind feature flags, rate‑limit, and add circuit‑breakers & fallbacks.</li>
      </ol>

      <div class="grid md:grid-cols-2 gap-4 mt-6">
        <div class="card p-6">
          <h3 class="font-semibold">Decision Hints</h3>
          <ul class="list-disc pl-6 text-sm">
            <li><strong>Strict compliance or minimal ops?</strong> Prefer managed endpoints.</li>
            <li><strong>Hard latency SLO (&lt;200ms end‑to‑first‑token)?</strong> Self‑host + optimized serving and caching.</li>
            <li><strong>Spiky load?</strong> Use autoscaling and async queues; consider serverless endpoints.</li>
            <li><strong>Highly domain‑specific?</strong> Try RAG first; only fine‑tune if needed.</li>
            <li><strong>Tight budget?</strong> Use smaller models with good prompts + RAG; enable request & token caching.</li>
          </ul>
        </div>
        <div class="card p-6">
          <h3 class="font-semibold">Evaluation Matrix (example)</h3>
          <div class="table-wrap">
            <table class="w-full text-sm">
              <thead>
                <tr class="text-left">
                  <th class="p-2">Criterion</th>
                  <th class="p-2">Weight</th>
                  <th class="p-2">Model A</th>
                  <th class="p-2">Model B</th>
                </tr>
              </thead>
              <tbody class="divide-y divide-zinc-900/10 dark:divide-white/10">
                <tr><td class="p-2">Quality (task score)</td><td class="p-2">40%</td><td class="p-2">8.7</td><td class="p-2">8.3</td></tr>
                <tr><td class="p-2">Latency (p95)</td><td class="p-2">20%</td><td class="p-2">320 ms</td><td class="p-2">210 ms</td></tr>
                <tr><td class="p-2">Cost ($/1k tokens)</td><td class="p-2">20%</td><td class="p-2">0.004</td><td class="p-2">0.002</td></tr>
                <tr><td class="p-2">Safety & policy fit</td><td class="p-2">10%</td><td class="p-2">Pass</td><td class="p-2">Pass*</td></tr>
                <tr><td class="p-2">Operability</td><td class="p-2">10%</td><td class="p-2">Managed</td><td class="p-2">Self‑hosted</td></tr>
              </tbody>
            </table>
          </div>
          <p class="text-xs text-zinc-500">Swap in your own metrics (hallucination rate, function‑calling success, multilingual accuracy).</p>
        </div>
      </div>

      <h3 class="mt-8 font-semibold">Prompt & policy contracts</h3>
      <p>Define structured prompts and response schemas. Validate JSON in the gateway. Enforce content policies with pre/post‑filters, and log prompt/response hashes for auditing.</p>
    </section>

    <!-- Security -->
    <section id="security" class="prose prose-zinc max-w-none mt-16">
      <h2 class="text-3xl font-bold">Security, Compliance & Guardrails</h2>
      <ul class="list-disc pl-6">
        <li><strong>Data boundaries:</strong> Keep traffic in‑VPC via PrivateLink where possible; avoid cross‑region PII transfer.</li>
        <li><strong>Encryption:</strong> TLS in transit; KMS keys for S3, EBS, and secrets; rotate regularly.</li>
        <li><strong>Least privilege IAM:</strong> Separate roles for retrieval, inference, and orchestration; short‑lived credentials.</li>
        <li><strong>Safety layers:</strong> Input/output filtering for PII, toxicity, policy; human‑in‑the‑loop for sensitive actions.</li>
        <li><strong>Auditability:</strong> Centralize logs (CloudWatch/Firehose to S3); enable CloudTrail; hash prompts/responses.</li>
      </ul>
    </section>

    <!-- Ops -->
    <section id="ops" class="prose prose-zinc max-w-none mt-16">
      <h2 class="text-3xl font-bold">Observability, Reliability & Cost</h2>
      <div class="grid-auto">
        <div class="card p-6">
          <h3 class="font-semibold">Metrics to Track</h3>
          <ul class="list-disc pl-6 text-sm">
            <li>Latency: time‑to‑first‑token, p95 end‑to‑end.</li>
            <li>Quality: task success, hallucination rate, function call accuracy.</li>
            <li>Cost: tokens/request, cache hit rate, GPU utilization.</li>
            <li>Safety: blocked rate, policy violations, escalation volume.</li>
          </ul>
        </div>
        <div class="card p-6">
          <h3 class="font-semibold">Reliability Patterns</h3>
          <ul class="list-disc pl-6 text-sm">
            <li>Timeouts with retries and jitter; idempotency keys; circuit breakers.</li>
            <li>Fallbacks: smaller/cheaper model or cached answers when SLOs are threatened.</li>
            <li>Canary & A/B evals tied to automated scorecards; roll back on regression.</li>
          </ul>
        </div>
        <div class="card p-6">
          <h3 class="font-semibold">Cost Controls</h3>
          <ul class="list-disc pl-6 text-sm">
            <li>Request shaping (truncate context, compress history); semantic cache.</li>
            <li>Right‑size instances; schedule downscaling; spot where appropriate.</li>
            <li>Prefer PEFT over full fine‑tunes; distill to smaller models for prod.</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- Checklist -->
    <section id="checklist" class="prose prose-zinc max-w-none mt-16">
      <h2 class="text-3xl font-bold">LLM Delivery Checklist</h2>
      <div class="grid-auto">
        <div class="card p-6">
          <h3 class="font-semibold">Architecture</h3>
          <ul class="list-disc pl-6 text-sm">
            <li>Region selected; data residency confirmed.</li>
            <li>Network plan (VPC, endpoints, PrivateLink) documented.</li>
            <li>Scaling policy and concurrency budgets defined.</li>
          </ul>
        </div>
        <div class="card p-6">
          <h3 class="font-semibold">Safety</h3>
          <ul class="list-disc pl-6 text-sm">
            <li>Input/output filtering policies implemented and tested.</li>
            <li>Abuse monitoring, rate limits, and user reporting in place.</li>
          </ul>
        </div>
        <div class="card p-6">
          <h3 class="font-semibold">Evaluation</h3>
          <ul class="list-disc pl-6 text-sm">
            <li>Golden dataset with acceptance criteria.</li>
            <li>Automated regression checks tied to CI/CD.</li>
            <li>Human review for high‑risk scenarios.</li>
          </ul>
        </div>
        <div class="card p-6">
          <h3 class="font-semibold">Operations</h3>
          <ul class="list-disc pl-6 text-sm">
            <li>Runbooks, alerts, dashboards, and on‑call rotation established.</li>
            <li>Cost alarms and monthly budget reviews.</li>
            <li>Data retention & deletion policies configured.</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- Snippets -->
    <section class="prose prose-zinc max-w-none mt-16">
      <h2 class="text-3xl font-bold">Useful Snippets</h2>
      <h3>Example: Gateway contract for JSON output</h3>
      <pre><code>{
  "type": "object",
  "properties": {
    "answer": {"type": "string"},
    "citations": {"type": "array", "items": {"type": "string"}}
  },
  "required": ["answer"]
}</code></pre>

      <h3>Example: IaC sketch (CDK/Terraform – pseudocode)</h3>
      <pre><code>// API Gateway → Lambda → Bedrock + Vector DB
api = new ApiGateway.RestApi(...)
fn  = new Lambda.Function(...)
api.addRoute("POST /chat", fn)

// permissions
fn.allowInvokeBedrock()
fn.allowReadWrite(vectorIndex)

// observability & budgets
new CloudWatch.Dashboard(...)
new Budgets.CostAlarm(...)
</code></pre>
    </section>

    <footer class="mt-24 py-12 text-sm text-zinc-500">
      <div class="max-w-6xl mx-auto px-4 md:px-6">
        <p>© <span id="year"></span> LLMs on AWS — A practical guide. Replace/adjust sections for your platform’s exact services and region availability.</p>
      </div>
    </footer>
  </main>

  <script>
    // Theme toggle
    const btn = document.getElementById('themeToggle');
    btn?.addEventListener('click', () => {
      document.documentElement.classList.toggle('dark');
      localStorage.setItem('prefers-dark', document.documentElement.classList.contains('dark'));
    });
    (function initTheme(){
      const pref = localStorage.getItem('prefers-dark');
      if (pref === 'true' || (!pref && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
        document.documentElement.classList.add('dark');
      }
    })();
    // Year
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
</body>
</html>

